<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SORA FAST AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body style="background: #000; color: #fff; display: flex; justify-content: center; align-items: center; min-height: 100vh; font-family: sans-serif; padding: 15px;">

    <div style="background: #0a0a0a; padding: 25px; border-radius: 20px; width: 100%; max-width: 380px; text-align: center; border: 1px solid #1a1a1a;">
        <h1 style="color: #a855f7; font-size: 22px; font-weight: 900; margin-bottom: 20px;">SORA FAST ⚡</h1>
        
        <textarea id="p" style="width: 100%; background: #111; border: 1px solid #222; border-radius: 12px; padding: 12px; color: #fff; margin-bottom: 15px; outline: none;" rows="3" placeholder="اكتب وصفك هنا..."></textarea>
        
        <button id="b" onclick="go()" style="width: 100%; background: #7c3aed; color: #fff; padding: 14px; border-radius: 12px; font-weight: bold; border: none; cursor: pointer;">إنشاء سريع ✨</button>

        <div id="l" style="display: none; margin-top: 15px; color: #7c3aed; font-size: 13px;" class="animate-pulse">⚡ جاري التوليد السريع...</div>
        <div id="res" style="margin-top: 15px;"></div>
    </div>

    <script>
        function go() {
            const prompt = document.getElementById('p').value;
            const btn = document.getElementById('b');
            const loader = document.getElementById('l');
            const res = document.getElementById('res');

            if (!prompt) return;

            btn.disabled = true;
            btn.style.opacity = "0.4";
            loader.style.display = "block";
            res.innerHTML = "";

            // تقليل الأبعاد قليلاً لضمان سرعة الاستجابة وتجنب تعليق السيرفر
            const seed = Math.floor(Math.random() * 9999);
            const url = `https://pollinations.ai/p/${encodeURIComponent(prompt)}?width=768&height=768&seed=${seed}&model=flux&nologo=true`;

            const img = new Image();
            img.src = url;

            img.onload = function() {
                res.innerHTML = `<img src="${url}" style="width: 100%; border-radius: 12px; border: 1px solid #333;">`;
                btn.disabled = false;
                btn.style.opacity = "1";
                loader.style.display = "none";
            };

            img.onerror = function() {
                res.innerHTML = "<p style='color:red; font-size:12px;'>السيرفر مضغوط، اضغط إنشاء مرة أخرى</p>";
                btn.disabled = false;
                btn.style.opacity = "1";
                loader.style.display = "none";
            };
        }
    </script>
</body>
</html>
