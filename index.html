<textarea id="prompt" rows="3" placeholder="Ø§ÙƒØªØ¨ ÙˆØµÙ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù‡Ù†Ø§..."></textarea>
<button class="btn" onclick="run()">Ø¨Ø¯Ø¡ Ø§Ù„ØªÙˆÙ„ÙŠØ¯ âš¡</button>
<div id="res"></div>

<script>
async function run() {
    const prompt = document.getElementById("prompt").value;
    if (!prompt) return alert("Ø§ÙƒØªØ¨ ÙˆØµÙ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ");

    const resDiv = document.getElementById("res");
    resDiv.innerHTML = "Ø¬Ø§Ø±Ù Ø§Ù„ØªÙˆÙ„ÙŠØ¯... ğŸ”„";

    try {
        const response = await fetch("http://localhost:5000/generate", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ prompt })
        });

        const data = await response.json();

        if (data.video_url) {
            resDiv.innerHTML = `<video controls autoplay loop>
                <source src="${data.video_url}" type="video/mp4">
            </video>`;
        } else {
            resDiv.innerHTML = "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙˆÙ„ÙŠØ¯ âŒ";
        }
    } catch (e) {
        console.error(e);
        resDiv.innerHTML = "ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ± âŒ";
    }
}
</script>
